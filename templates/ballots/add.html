{% extends "base.html" %}

{% block h1 %}Add Ballot{% endblock %}

{% block subbreadcrumbs %}<li><a href="">Enter ballots for poll {{ poll_id }}</a></li>
<li>Enter Ballot</li>{% endblock %}
{% block content %}
	    <script src="/static/jquery.js"></script>
	    <script src="/static/json2.js"></script>
        <script src="/static/ballot.js"></script>

<form action="{% url ballots.views.input_ballot poll_id %}" method="post" id="myform">
{% csrf_token %}
{{form.ballot_num.label}}:{{form.ballot_num}}

<table>
	<tr>
		<th>Candidate</th>
		<th colspan="3">Ranking</th>
	</tr>
	<tr>
		<th></th>
        {% for person in candidates %}
	    	<th>{{forloop.counter}}</th>
        {%endfor%}
	</tr>

	{% for person in candidates %}
	<tr>
		<td>{{ person.name }}</td>
        {%for _ in candidates %}
        	<td><input type="radio" name="{{ person.name }}" class="data-column-{{forloop.counter}}" value="{{forloop.counter}}" /></td>
        {%endfor%}

	</tr>
	{% endfor %}

</table>
{{ form.vote.as_hidden }}
{{ form.spoiled.label }} :{{ form.spoiled }}
<input type="submit" value="Submit" />
<input type="reset" value="Clear" />
</form>
        
        <script>
		  $("input[type=radio]").click(enforceBallotValidity);
		  $('#myform').submit(onSubmit);
		</script>

{% endblock %}

