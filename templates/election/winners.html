{% extends "base.html" %}

{% block h1 %}{{riding.name}} Results{% endblock %}

{% block content %}
<p>Number of Seats: {{riding.num_seats}}</p>
<p>Number of Eligable Voters: {{riding.num_voters}}</p>
<p>Number of Ballots Cast: {{numVotes}}</p>
<p>Number of Spoiled Ballots: {{numSpoiled}}</p>
<p>Voter Turnout: <script type="text/javascript">
var v_t = ({{numVotes}}/{{riding.num_voters}} * 100.0);
document.write((v_t.toFixed(2)+"%"));
</script></p>
{% comment %}<table>
<tr>
<th>Winner</th>
<th>Number of First Choice Votes</th>
<th>Number of Second Choice Votes</th>
<th>Number of Votes Transfered</th>
</tr>

</table>{% endcomment %}
{% for vote in winners %}
<p>{{vote.0.name}} of the {{vote.0.party}} has been {{vote.1.state}} with {{vote.2}} first choice votes and <script type="text/javascript">
var fc_v = {{vote.2}}
var droop_v = {{vote.1.vote}};
//var trans_v = fc_v - droop_v.toFixed(0)
if (fc_v >= droop_v)
{
    document.write(0);
}
else
{
    document.write(droop_v);
}
</script> transferred votes.</p>
{% endfor %}
{% endblock %}

